<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>matplotplit_note</title>
      <link href="/2019/12/21/matplotlib-note/"/>
      <url>/2019/12/21/matplotlib-note/</url>
      
        <content type="html"><![CDATA[<h1 id="Matplotlib学习笔记"><a href="#Matplotlib学习笔记" class="headerlink" title="Matplotlib学习笔记"></a>Matplotlib学习笔记</h1><h2 id="一-基础知识"><a href="#一-基础知识" class="headerlink" title="一. 基础知识"></a>一. 基础知识</h2><h3 id="散点图"><a href="#散点图" class="headerlink" title="散点图"></a>散点图</h3><p>通过散点图探究数据之间的相关问题（正相关，负相关，不相关）</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> pltN <span class="token operator">=</span> <span class="token number">1000</span>x <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span>N<span class="token punctuation">)</span>y <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span>N<span class="token punctuation">)</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token string">"r"</span><span class="token punctuation">,</span> marker<span class="token operator">=</span><span class="token string">"o"</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/shw2018/cdn@1.0/sakura/img/loader/orange.progress-bar-stripe-loader.svg" data-original="/images/matplotplit-notes/scatter.png" alt="散点图"></p><p>scatter(x, y, s, c, market)函数详解</p><table><thead><tr><th>参数</th><th>解释</th></tr></thead><tbody><tr><td>x</td><td>array_like</td></tr><tr><td>y</td><td>array_like</td></tr><tr><td>s</td><td>点的面积，</td></tr><tr><td>c</td><td>点的颜色</td></tr><tr><td>marker</td><td>点的形状（在官方文档搜索”markers”）</td></tr><tr><td>alpha</td><td>点的透明度（0-1，重叠的点颜色加深）</td></tr></tbody></table><h3 id="折线图"><a href="#折线图" class="headerlink" title="折线图"></a>折线图</h3><p>通过折线图观察数据的变化趋势（主要是数据随时间的变化图）</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> pltx <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>y <span class="token operator">=</span> x<span class="token operator">**</span><span class="token number">2</span>plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token string">"go--"</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> markersize<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"green"</span><span class="token punctuation">,</span> linestyle<span class="token operator">=</span><span class="token string">"--"</span><span class="token punctuation">,</span> marker<span class="token operator">=</span><span class="token string">"o"</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># coding=utf-8</span><span class="token triple-quoted-string string">"""数据随时间的变化"""</span><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>dates <span class="token keyword">as</span> mdate<span class="token keyword">import</span> datetimefig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span>ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>gca<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 获取当前的轴</span>start <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 开始日期</span>close <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 结束日期</span>delta <span class="token operator">=</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>days<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 时间间隔</span>dates <span class="token operator">=</span> mdate<span class="token punctuation">.</span>drange<span class="token punctuation">(</span>start<span class="token punctuation">,</span> close<span class="token punctuation">,</span> delta<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 生成日期序列</span>values <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span>len<span class="token punctuation">(</span>dates<span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment" spellcheck="true"># 模拟数据变化</span>date_format<span class="token operator">=</span>mdate<span class="token punctuation">.</span>DateFormatter<span class="token punctuation">(</span><span class="token string">'%Y/%m/%d'</span><span class="token punctuation">)</span>ax<span class="token punctuation">.</span>xaxis<span class="token punctuation">.</span>set_major_formatter<span class="token punctuation">(</span>date_format<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 设置主定位器为日期格式</span>fig<span class="token punctuation">.</span>autofmt_xdate<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 自动调整日期显示位置，避免日期之间相互重叠</span>plt<span class="token punctuation">.</span>plot_date<span class="token punctuation">(</span>dates<span class="token punctuation">,</span> values<span class="token punctuation">,</span> <span class="token string">"b-"</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 绘图</span>plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/shw2018/cdn@1.0/sakura/img/loader/orange.progress-bar-stripe-loader.svg" data-original="/images/matplotplit-notes/carve.png" alt="折线图"></p><p><img src="https://cdn.jsdelivr.net/gh/shw2018/cdn@1.0/sakura/img/loader/orange.progress-bar-stripe-loader.svg" data-original="/images/matplotplit-notes/carve_time.png" alt="时间折线图"></p><p>plot([x], y, [fmt], [x2], y2, [fmt2],linewidth, markersize, label )</p><p>plot(x, y, color, marker, linestyle, linewidth, matkersize, label)</p><table><thead><tr><th>参数</th><th>解释</th></tr></thead><tbody><tr><td>x</td><td>array-like,<em>x</em> values are optional and default to `range(len(y))</td></tr><tr><td>y</td><td>array-like</td></tr><tr><td>fmt</td><td>定义基本的格式，如颜色，标记，线型</td></tr><tr><td>color</td><td>颜色</td></tr><tr><td>linewidth</td><td>线型宽度</td></tr><tr><td>linestyle</td><td>线型</td></tr><tr><td>markersize</td><td>标记大小</td></tr><tr><td>label</td><td>线条名称，用于图例</td></tr></tbody></table><table><thead><tr><th>返回值</th><th>解释</th></tr></thead><tbody><tr><td>lines</td><td>A <span style="color:red">line</span> of <code>.Line2D</code> objects representing the plotted data</td></tr></tbody></table><h3 id="条形图"><a href="#条形图" class="headerlink" title="条形图"></a>条形图</h3><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># coding=utf-8</span><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> pltN <span class="token operator">=</span> <span class="token number">5</span>y <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span>index <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>index<span class="token punctuation">,</span> y<span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">0.3</span><span class="token punctuation">,</span> bottom<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> align<span class="token operator">=</span><span class="token string">"edge"</span><span class="token punctuation">,</span> edgecolor<span class="token operator">=</span> <span class="token string">"red"</span><span class="token punctuation">,</span>tick_label<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"fisrt month"</span><span class="token punctuation">,</span> <span class="token string">"second month"</span><span class="token punctuation">,</span> <span class="token string">"third month"</span><span class="token punctuation">,</span> <span class="token string">"forth month"</span><span class="token punctuation">,</span> <span class="token string">"fifth month"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>barh<span class="token punctuation">(</span>index<span class="token punctuation">,</span> y<span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">0.3</span><span class="token punctuation">,</span> edgecolor<span class="token operator">=</span><span class="token string">"red"</span><span class="token punctuation">,</span> tick_label<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"fisrt month"</span><span class="token punctuation">,</span> <span class="token string">"second month"</span><span class="token punctuation">,</span> <span class="token string">"third month"</span><span class="token punctuation">,</span> <span class="token string">"forth month"</span><span class="token punctuation">,</span> <span class="token string">"fifth month"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/shw2018/cdn@1.0/sakura/img/loader/orange.progress-bar-stripe-loader.svg" data-original="/images/matplotplit-notes/bar2.png" alt="纵向条形图"></p><p><img src="https://cdn.jsdelivr.net/gh/shw2018/cdn@1.0/sakura/img/loader/orange.progress-bar-stripe-loader.svg" data-original="/images/matplotplit-notes/bar3.png" alt="横向条形图"></p><p>bar(self, x, height, width=0.8, bottom=None, <em>, align=”center”, *</em>kwargs)——纵向条形图</p><p>barh(y, width, height=0.8, left=None, <em>, align=”center”,  *</em>kwargs)——横向条形图</p><table><thead><tr><th>参数</th><th>解释</th></tr></thead><tbody><tr><td>x</td><td>sequence of scalars</td></tr><tr><td>height</td><td>scalar or sequence of scalars</td></tr><tr><td>width</td><td>条形的宽度</td></tr><tr><td>bottom</td><td>y坐标的基值</td></tr><tr><td>align</td><td>{“center”, “edge”},x坐标的位置</td></tr><tr><td>color</td><td>柱状图表面颜色</td></tr><tr><td>edgecolor</td><td>柱状图边缘颜色</td></tr><tr><td>linewidth</td><td>线宽</td></tr><tr><td>tick_label</td><td>x坐标轴的记号，string or array-like</td></tr></tbody></table><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># coding=utf-8</span><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> pltN <span class="token operator">=</span> <span class="token number">5</span>y1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span>y2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">]</span>index <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>index<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">0.3</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>index<span class="token operator">+</span><span class="token number">0.3</span><span class="token punctuation">,</span> y2<span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">0.3</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/shw2018/cdn@1.0/sakura/img/loader/orange.progress-bar-stripe-loader.svg" data-original="/images/matplotplit-notes/bar1.png" alt="横向双条形图"></p><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># coding=utf-8</span><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> pltN <span class="token operator">=</span> <span class="token number">5</span>y1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span>y2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">]</span>index <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>index<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">0.3</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>index<span class="token punctuation">,</span> y2<span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">0.3</span><span class="token punctuation">,</span> bottom<span class="token operator">=</span>y1<span class="token punctuation">)</span>plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/shw2018/cdn@1.0/sakura/img/loader/orange.progress-bar-stripe-loader.svg" data-original="/images/matplotplit-notes/bar4.png" alt="层叠条形图"></p><h3 id="直方图"><a href="#直方图" class="headerlink" title="直方图"></a>直方图</h3><p>一系列高度不同的连续纵向条形组成</p><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># coding=utf-8</span><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> pltmu <span class="token operator">=</span> <span class="token number">100</span>sigma <span class="token operator">=</span> <span class="token number">20</span>x <span class="token operator">=</span> mu <span class="token operator">+</span> sigma<span class="token operator">*</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 生成正态分布（2000个数据）</span>n<span class="token punctuation">,</span> bins<span class="token punctuation">,</span> patch <span class="token operator">=</span> plt<span class="token punctuation">.</span>hist<span class="token punctuation">(</span>x<span class="token punctuation">,</span> bins<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"#DDA0DD"</span><span class="token punctuation">,</span> edgecolor<span class="token operator">=</span><span class="token string">"black"</span><span class="token punctuation">,</span> density<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>y <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">/</span> <span class="token punctuation">(</span>np<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>pi<span class="token punctuation">)</span> <span class="token operator">*</span> sigma<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span>np<span class="token punctuation">.</span>exp<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.5</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">/</span> sigma <span class="token operator">*</span> <span class="token punctuation">(</span>bins <span class="token operator">-</span> mu<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span>plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>bins<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token string">"--"</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/shw2018/cdn@1.0/sakura/img/loader/orange.progress-bar-stripe-loader.svg" data-original="/images/matplotplit-notes/hist1.png" alt="hist1"></p><p>hist(self, x, bins=None, range=None, density=None, weights=None, cumulative=False, bottom=None, histtype=’bar’, align=’mid’, orientation=’vertical’, rwidth=None, log=False, color=None, label=None, stacked=False, normed=None, **kwargs)</p><table><thead><tr><th>参数</th><th>解释</th></tr></thead><tbody><tr><td>x</td><td>array or sequence of (n,) arrays,是一个数组或者数组序列</td></tr><tr><td>bins</td><td>整数（条形的个数），或者是序列（指定每一条的范围）</td></tr><tr><td>range</td><td>条形的上界和下界，范围之外的被舍弃</td></tr><tr><td>density</td><td>true(纵轴显示频率/组距)，false(纵轴显示频数)，即归一化处理</td></tr><tr><td>alpha</td><td>透明度</td></tr><tr><td>bottom</td><td>每一个柱子的基值</td></tr><tr><td>histtype</td><td>柱子类型，默认是bar</td></tr><tr><td>rwidth</td><td>柱子之间的距离，默认为零</td></tr><tr><td>edgecolor</td><td>柱子边界的颜色</td></tr></tbody></table><table><thead><tr><th>返回值</th><th>解释</th></tr></thead><tbody><tr><td>n</td><td>落入每一个盒子的样本数</td></tr><tr><td>bins</td><td>每一个盒子边缘的值（一共n+1个值）</td></tr><tr><td>patched</td><td>每一个柱子</td></tr></tbody></table><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># coding=utf-8</span><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> pltx1 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>normal<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 均值为0，标准差为0.8的正太分布</span>x2 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>normal<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>x3 <span class="token operator">=</span>  np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>normal<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>kwargs <span class="token operator">=</span> dict<span class="token punctuation">(</span>histtype<span class="token operator">=</span><span class="token string">"stepfilled"</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span> density<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> bins<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>hist<span class="token punctuation">(</span>x1<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>plt<span class="token punctuation">.</span>hist<span class="token punctuation">(</span>x2<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>plt<span class="token punctuation">.</span>hist<span class="token punctuation">(</span>x3<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/shw2018/cdn@1.0/sakura/img/loader/orange.progress-bar-stripe-loader.svg" data-original="/images/matplotplit-notes/hist2.png" alt="hist2"></p><h3 id="饼图"><a href="#饼图" class="headerlink" title="饼图"></a>饼图</h3><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># coding=utf-8</span><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt<span class="token keyword">def</span> <span class="token function">printf</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> <span class="token string">"{:.2f}%"</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    labels <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"SH"</span><span class="token punctuation">,</span> <span class="token string">"BI"</span><span class="token punctuation">,</span> <span class="token string">"SZ"</span><span class="token punctuation">,</span> <span class="token string">"GD"</span><span class="token punctuation">]</span>    fracs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>    patches<span class="token punctuation">,</span> tests<span class="token punctuation">,</span> auto_tests <span class="token operator">=</span> plt<span class="token punctuation">.</span>pie<span class="token punctuation">(</span>fracs<span class="token punctuation">,</span> explode<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> labels<span class="token operator">=</span>labels<span class="token punctuation">,</span> autopct<span class="token operator">=</span>printf<span class="token punctuation">)</span>    plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/shw2018/cdn@1.0/sakura/img/loader/orange.progress-bar-stripe-loader.svg" data-original="/images/matplotplit-notes/pie.png" alt="pie"></p><p>pie(self, x, explode=None, labels=None, colors=None,autopct=None, pctdistance=0.6, shadow=False, labeldistance=1.1,startangle=None, radius=None, counterclock=True, wedgeprops=None, textprops=None, center=(0, 0),frame=False, rotatelabels=False)</p><table><thead><tr><th>参数</th><th>解释</th></tr></thead><tbody><tr><td>x</td><td>array-like,The wedge sizes</td></tr><tr><td>explode</td><td>array-like，数组中每一个值是偏移中心位置的半径</td></tr><tr><td>label</td><td>每一个扇形的名称</td></tr><tr><td>colors</td><td>array-like, 指定每一个扇形的颜色</td></tr><tr><td>autopct</td><td>string, or function，标签化值</td></tr><tr><td>shadow</td><td>阴影</td></tr></tbody></table><table><thead><tr><th>返回值</th><th>解释</th></tr></thead><tbody><tr><td>patches</td><td>A sequence of :class:<code>matplotlib.patches.Wedge</code> instances</td></tr><tr><td>texts</td><td>A list of the label :class:<code>matplotlib.text.Text</code> instances.</td></tr><tr><td>autotexts</td><td>A list of :class:<code>~matplotlib.text.Text</code> instances for the numericlabels. This will only be returned if the parameter <em>autopct</em> isnot <em>None</em>.</td></tr></tbody></table><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> python第三方库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据可视化 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
